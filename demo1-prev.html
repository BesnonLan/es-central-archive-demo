<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <link rel="stylesheet" href="bootstrap.css"/>
    <link rel="stylesheet" href="bootstrap-theme.css">
    <script src="angular.min.js"></script>
    <title>Old style Demo1</title>
    <script>


        var app = angular.module("demo1App");
        app.controller("Ctrl",function($http, $scope){

            $scope.StartTime = "2011/07/27 18:20:51";
            $scope.Direct = "inbound";

            $scope.querySubmit = function(){

                var model = { query: {
                    filtered: {
                        filter: {
                            term : $scope
                        }} }};

                $http({
                    url: "http://192.168.11.2:9200/_all/_search",
                    method: "GET",
                    params: model

                }).success(function(data, status, headers, config) {
                    $scope.results = data.hits.hits.map(function(item){

                        var obj = item._source;
                        obj['PID'] = item._id;

                        return obj;
                    });
                }).error(function(data, status, headers, config) {
                    $scope.results = {};
                });

            }

        });

    </script>
</head>
<body>
<div class="container">
    <div class="page-header" ng-controller="Ctrl">
        <h1>Demo 1 錄音查詢(Old)
            <small></small>
        </h1>
        <form role="form">
            <div class="form-group">
                <label for="inputStartTime">開始時間</label>
                <input type="text" class="form-control" id="inputStartTime" placeholder="2011/01/01 12:30:00">
            </div>
            <div class="form-group">
                <label for="inputDirection">電話方向</label>
                <input type="text" class="form-control" id="inputDirection" placeholder="inbound/outbound">
            </div>
            <div class="form-group">
                <label for="exampleInputFile">File input</label>
                <input type="file" id="exampleInputFile">

                <p class="help-block">Example block-level help text here.</p>
            </div>
            <button type="submit" class="btn btn-default">Submit</button>
        </form>

    </div>


</div>


</body>
</html>